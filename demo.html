<!doctype html>

<html>
  <head>
    <title>ui-table</title>

    <script src="http://localhost:35729/livereload.js"></script>
    
    <script src="node_modules/polymer/platform.js"></script>    
    
    <link rel="import" href="node_modules/polymer/polymer.html">
    <link rel="import" href="src/ui-table.html">    
    <link rel="import" href="node_modules/ui-fonts/fonts.html">

    <style>
      ui-table /deep/ td[col=consultation] {
        color:red;
      }

      ui-table /deep/ td[col=contact] {
        color:blue;
      }
    </style>
  </head>

    
  <body> 
        
    <ui-table>
      
      <template header name="consultation">
        <ui-th sortable="true" sortprop="id.id" col="consultation">
          Consultation <ui-th-sort-icon sort-icon></ui-th-sort-icon>          
        </ui-th>
      </template>
    
      <template header name="contact">
        <ui-th sortable="true" sortprop="id" col="contact">
          Contact <ui-th-sort-icon sort-icon></ui-th-sort-icon>
        </ui-th>
      </template>

      <template column name="consultation">
        <ui-td col="consultation">{{id.id}}</ui-td>
      </template>

      <template column name="contact">
        <ui-td col="contact">{{id}}</ui-td>
      </template>
            
    </ui-table>

    <script>

      document.addEventListener('polymer-ready', function() {
        var table = document.querySelector('ui-table')
                
        table.value = [
          {
            consultation: {
              id: {
                id: 12345
              }
            },
            contact: {
              id: 1236
            }
          },
          {
            consultation: {
              id: {
                id: 12346
              }
            },
            contact: {
              id: 1234
            }
          }
        ]  

        table.sort = { 
          direction: 'desc',
          prop: 'id.id',
          col: 'consultation'
        }

        table.addEventListener('ui-td-click', function(event) {
          console.log(event.type, event.detail)          
        })

        table.addEventListener('ui-th-click', function(event) {
          console.log(event.type, event.detail)
        })        

      })  
      
    </script>
  </body>
</html>
