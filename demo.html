<!doctype html>

<html>
  <head>
    <title>ui-grid</title>    
    <script src="bower_components/platform/platform.js"></script>
    <link rel="import" href="src/ui-table.html">
  </head>

  <style>
    html, body {
      height: 100%;
      margin: 0;
    }      

    ui-table {
      height: 600px;
    }
  </style>
    
  <body>        
    
      <ui-table rowheight="40" ignoredcols="CouncilMemberId" src="http://localhost:9710/councilMember/getkeyExecutiveCouncilMembers.mustache">
      </ui-table>  

    
      <button onclick="changeUrl()">Change data source</button>    
    </div>
    <!-- <ui-pager src="#table" pagesize="1000" pagenum="1" pagenumprop="page" pagesizeprop="size">
      <template>
        <button next>Next</button>
        <button previous>Previous</button>
      </template>
    </ui-pager> -->
  </body>

  <script>
    function changeUrl () {
      var table = document.querySelector('ui-table');
      table.ignoredcols = ['country'];
      table.src = "http://localhost:9710/councilMember/getCouncilMemberEmployment.mustache?councilMemberId=545201"
      table.transformResponse = function(value) {
        return value[0];
      }

    }


    document.addEventListener('polymer-ready', function() {      
      // var table = document.querySelector('ui-table');

      // var startTime = new Date();
      // console.log('generating data');
      // var data = [];
      // for (var i = 0; i < 10000; i++) {
      //   var keys = [ 'a', 'b', 'c', 'd', 'e', 'f' ];
      //   var row = keys.reduce(function(acc,key,j) {
      //     acc[key] = key+i;
      //     return acc;
      //   },[])
        
      //   data.push(row);
      // }    
      
      // console.log('generating data done',  (new Date().getTime() - startTime.getTime()) / 1000);        
      
      // table.value = data;  

      var table = document.querySelector('ui-table');
      table.transformResponse = function(value) {
        return value;
      }
      
    })
  </script>
</html>
